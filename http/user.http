
### Sign In (Get Tokens)

# @name signin
curl -X POST http://localhost:3000/api/auth/signin \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "password": "password123"
  }'

@access_token = {{signin.response.body.accessToken}}
@refresh_token = {{signin.response.body.refreshToken}}

### Create User
POST http://localhost:3000/api/users
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "password123",
  "role": "admin"
}


### Create Regular User
POST http://localhost:3000/api/users
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123",
  "role": "user"
}

###

### Get All Users (Admin)
GET http://localhost:3000/api/users
Authorization: Bearer {{access_token}}


### Get User by ID
@user_id=1a965497-a49a-4782-9750-30ad5821680d
GET http://localhost:3000/api/users/{{user_id}}
Authorization: Bearer {{access_token}}


### Refresh Access Token
# @name refresh

GET http://localhost:3000/api/auth/refresh
Authorization: Bearer {{refresh_token}}

@access_token = {{refresh.response.body.accessToken}}

### Test Invalid Sign In
POST http://localhost:3000/api/auth/signin
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "wrongpassword"
}


### Test Invalid Refresh Token
POST http://localhost:3000/api/auth/refresh
Content-Type: application/json

{
  "refreshToken": "invalid_refresh_token"
}


### Test Protected Endpoint Without Token
GET http://localhost:3000/api/users


### Test Protected Endpoint With Invalid Token
GET http://localhost:3000/api/users
Authorization: Bearer invalid_token

